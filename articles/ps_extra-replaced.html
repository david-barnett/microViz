<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<title>Upgrading to microViz version 0.10.0 (and beyond) • microViz</title>
<!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png">
<link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png">
<link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png">
<link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png">
<link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png">
<script src="../lightswitch.js"></script><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet">
<script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet">
<link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet">
<script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Upgrading to microViz version 0.10.0 (and beyond)">
<!-- Global site tag (gtag.js) - Google Analytics --><script async src="https://www.googletagmanager.com/gtag/js?id=G-2YQ669S4V5"></script><script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-2YQ669S4V5');
</script>
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top " aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">microViz</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.12.7</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="nav-item"><a class="nav-link" href="../articles/shao19-analyses.html">Getting Started</a></li>
<li class="nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="active nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles">
<li><a class="dropdown-item" href="../articles/web-only/phyloseq.html">Working with phyloseq objects</a></li>
    <li><a class="dropdown-item" href="../articles/web-only/tax-fixing.html">Fixing your tax_table</a></li>
    <li><a class="dropdown-item" href="../articles/web-only/ordination.html">Ordination plots</a></li>
    <li><a class="dropdown-item" href="../articles/web-only/ordination-interactive.html">Interactive ordination plots</a></li>
    <li><a class="dropdown-item" href="../articles/web-only/compositions.html">Visualising compositions with barplots</a></li>
    <li><a class="dropdown-item" href="../articles/web-only/heatmaps.html">Heatmaps of microbiome composition or correlation</a></li>
    <li><a class="dropdown-item" href="../articles/web-only/modelling-taxa.html">Statistical modelling of individual taxa</a></li>
    <li><a class="dropdown-item" href="../articles/web-only/videos.html">Tutorial video</a></li>
    <li><a class="dropdown-item" href="../articles/ps_extra-replaced.html">Upgrading to microViz version 0.10.0</a></li>
    <li><a class="dropdown-item" href="../articles/web-only/atlas1006.html">Example analyses with atlas1006 data</a></li>
  </ul>
</li>
<li class="nav-item"><a class="nav-link" href="../articles/learn/exercises.html">Learn</a></li>
<li class="nav-item"><a class="nav-link" href="../news/index.html">News</a></li>
<li class="nav-item"><h6 class="dropdown-header" data-toc-skip></h6></li>
      </ul>
<ul class="navbar-nav">
<li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json">
</form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/david-barnett/microViz/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-lightswitch" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true" aria-label="Light switch"><span class="fa fa-sun"></span></button>
  <ul class="dropdown-menu dropdown-menu-end" aria-labelledby="dropdown-lightswitch">
<li><button class="dropdown-item" data-bs-theme-value="light"><span class="fa fa-sun"></span> Light</button></li>
    <li><button class="dropdown-item" data-bs-theme-value="dark"><span class="fa fa-moon"></span> Dark</button></li>
    <li><button class="dropdown-item" data-bs-theme-value="auto"><span class="fa fa-adjust"></span> Auto</button></li>
  </ul>
</li>
      </ul>
</div>


  </div>
</nav><div class="container template-article">




<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="../logo.png" class="logo" alt=""><h1>Upgrading to microViz version 0.10.0 (and beyond)</h1>
            
      
      <small class="dont-index">Source: <a href="https://github.com/david-barnett/microViz/blob/main/vignettes/articles/ps_extra-replaced.Rmd" class="external-link"><code>vignettes/articles/ps_extra-replaced.Rmd</code></a></small>
      <div class="d-none name"><code>ps_extra-replaced.Rmd</code></div>
    </div>

    
    
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://david-barnett.github.io/microViz">microViz</a></span><span class="op">)</span></span>
<span><span class="co">#&gt; <span style="font-weight: bold;">microViz version 0.12.7 - Copyright (C) 2021-2025 David Barnett</span></span></span>
<span><span class="co">#&gt; <span style="color: #BBBB00;">!</span> Website: https://david-barnett.github.io/microViz</span></span>
<span><span class="co">#&gt; <span style="color: #00BB00;">✔</span> Useful?  For citation details, run: `citation("microViz")`</span></span>
<span><span class="co">#&gt; <span style="color: #BB0000;">✖</span> Silence? `suppressPackageStartupMessages(library(microViz))`</span></span></code></pre></div>
<div class="section level2">
<h2 id="do-i-need-to-read-this">Do I need to read this?<a class="anchor" aria-label="anchor" href="#do-i-need-to-read-this"></a>
</h2>
<p>This article is important for you to read if you are already using
microViz version 0.9.7 or earlier, and would like to upgrade to the
newest version. You can check which version of microViz you are using by
running the following code.</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/utils/packageDescription.html" class="external-link">packageVersion</a></span><span class="op">(</span><span class="st">"microViz"</span><span class="op">)</span></span>
<span><span class="co">#&gt; [1] '0.12.7'</span></span></code></pre></div>
</div>
<div class="section level2">
<h2 id="key-points">Key points<a class="anchor" aria-label="anchor" href="#key-points"></a>
</h2>
<p><strong>microViz version 0.10.0 introduces changes that may break
some code written with older versions of microViz.</strong></p>
<ul>
<li>
<p><strong>Breaking change 1:</strong></p>
<ul>
<li><p><strong>Description</strong>: using the <code>$</code> operator
to access parts of the old “ps_extra” S3 class list
(e.g. <code>yourData$ps</code> or <code>yourData$dist)</code> will no
longer work in microViz 0.10.0 or later</p></li>
<li><p><strong>Solution:</strong> You must replace the use of the
<code>$</code> operator with <a href="https://david-barnett.github.io/microViz/reference/psExtra-accessors.html">accessor</a>
functions, e.g. <code><a href="../reference/psExtra-accessors.html">ps_get()</a></code> or
<code><a href="../reference/psExtra-accessors.html">dist_get()</a></code></p></li>
</ul>
</li>
<li>
<p><strong>Breaking change 2:</strong></p>
<ul>
<li><p><strong>Description</strong>: if you have a saved “ps_extra”
object generated with an older version of microViz, this will not be
compatible with microViz version 0.10.0 and later versions</p></li>
<li><p><strong>Solution</strong>: you can convert old “ps_extra” objects
to the new “psExtra” S4 objects with the new function
<code><a href="../reference/upgrade_ps_extra_to_psExtra.html">upgrade_ps_extra_to_psExtra()</a></code></p></li>
</ul>
</li>
<li>
<p><strong>Need more help?</strong></p>
<ul>
<li><p>If you have questions about upgrading your version of microViz,
please ask them here on the <a href="https://github.com/david-barnett/microViz/discussions" class="external-link">Discussions</a>
page.</p></li>
<li><p>If you encounter any other problems (not mentioned here) after
upgrading to version 0.10.0 or later, please report them as <a href="https://github.com/david-barnett/microViz/issues" class="external-link">Issues</a>, and
describe which version of microViz they occur with, e.g. include the
output of <code>packageVersion("microViz")</code> or
<code><a href="https://rdrr.io/r/utils/sessionInfo.html" class="external-link">sessionInfo()</a></code>.</p></li>
</ul>
</li>
</ul>
</div>
<div class="section level2">
<h2 id="explanation">Explanation<a class="anchor" aria-label="anchor" href="#explanation"></a>
</h2>
<p>Many microViz functions, including <code><a href="../reference/tax_transform.html">tax_transform()</a></code>,
<code><a href="../reference/dist_calc.html">dist_calc()</a></code>, etc. use and produce R objects that contain a
“phyloseq” object along with additional information (e.g. the name of
the transformation applied, and the name of the distance method used)
and additional objects (e.g. the distance matrix itself).</p>
<p>In microViz versions 0.9.7 and earlier, the extra information and
objects were stored alongside the phyloseq object in a simple (S3) list
object with the class, “ps_extra”.</p>
<p>From microViz version 0.10.0 onwards, the S3 “ps_extra” object class
is no longer used. It has been replaced with an S4 object class
“psExtra”. The “psExtra” S4 class is an extension of the “phyloseq” S4
class, with extra slots to store other information and additional
objects. All slots have a clearly named accessor function to retrieve
the information or data stored within them.</p>
<div class="section level3">
<h3 id="why-was-this-change-made">Why was this change made?<a class="anchor" aria-label="anchor" href="#why-was-this-change-made"></a>
</h3>
<p>In the long term, this change should simplify compatibility of
microViz with other packages that work with phyloseq objects. Most
functions that expect a phyloseq object should now also work with
psExtra objects, as the extra slots can just be ignored. (But for now,
if you are unsure, it is safest to use <code>ps_get</code> to extract a
plain phyloseq from any psExtra object.)</p>
</div>
<div class="section level3">
<h3 id="do-i-need-to-understand-what-s4-and-s3-classes-are">Do I need to understand what S4 and S3 classes are?<a class="anchor" aria-label="anchor" href="#do-i-need-to-understand-what-s4-and-s3-classes-are"></a>
</h3>
<p>No, you do not need to understand these concepts to use microViz. But
If you are interested to learn, a good place to start is Hadley
Wickham’s <a href="https://adv-r.hadley.nz/oo.html" class="external-link">Advanced R book
chapter on object-oriented programming</a>.</p>
</div>
</div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside>
</div>



    <footer><div class="pkgdown-footer-left">
  <p>Developed by David Barnett.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.1.</p>
</div>

    </footer>
</div>



  <script data-goatcounter="https://microviz.goatcounter.com/count" async src="//gc.zgo.at/count.js"></script>
</body>
</html>
