<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Upgrading to microViz version 0.10.0 (and beyond) • microViz</title>
<!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png">
<link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png">
<link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png">
<link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png">
<link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png">
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.7.1/jquery.min.js" integrity="sha512-v2CJ7UaYy4JwqLDIrZUI/4hqeoQieOmAZNXBeQyjo21dadnwR+8ZaIJVT8EE2iyI61OV8e6M8PP2/4hpQINQ/g==" crossorigin="anonymous" referrerpolicy="no-referrer"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script><!-- docsearch --><script src="../docsearch.js"></script><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/docsearch.js/2.6.3/docsearch.min.css" integrity="sha256-QOSRU/ra9ActyXkIBbiIB144aDBdtvXBcNc3OTNuX/Q=" crossorigin="anonymous">
<link href="../docsearch.css" rel="stylesheet">
<script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/jquery.mark.min.js" integrity="sha256-4HLtjeVgH0eIB3aZ9mLYF6E8oU5chNdjU6p6rrXpl9U=" crossorigin="anonymous"></script><meta property="og:title" content="Upgrading to microViz version 0.10.0 (and beyond)">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--><!-- Global site tag (gtag.js) - Google Analytics --><script async src="https://www.googletagmanager.com/gtag/js?id=G-2YQ669S4V5"></script><script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-2YQ669S4V5');
</script>
</head>
<body data-spy="scroll" data-target="#toc">


    <div class="container template-article">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">microViz</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="">0.12.5</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="../articles/shao19-analyses.html">Getting Started</a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
    Articles

    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="../articles/web-only/phyloseq.html">Working with phyloseq objects</a>
    </li>
    <li>
      <a href="../articles/web-only/tax-fixing.html">Fixing your tax_table</a>
    </li>
    <li>
      <a href="../articles/web-only/ordination.html">Ordination plots</a>
    </li>
    <li>
      <a href="../articles/web-only/ordination-interactive.html">Interactive ordination plots</a>
    </li>
    <li>
      <a href="../articles/web-only/compositions.html">Visualising compositions with barplots</a>
    </li>
    <li>
      <a href="../articles/web-only/heatmaps.html">Heatmaps of microbiome composition or correlation</a>
    </li>
    <li>
      <a href="../articles/web-only/modelling-taxa.html">Statistical modelling of individual taxa</a>
    </li>
    <li>
      <a href="../articles/web-only/videos.html">Tutorial video</a>
    </li>
    <li>
      <a href="../articles/ps_extra-replaced.html">Upgrading to microViz version 0.10.0</a>
    </li>
    <li>
      <a href="../articles/web-only/atlas1006.html">Example analyses with atlas1006 data</a>
    </li>
  </ul>
</li>
<li>
  <a href="../articles/learn/exercises.html">Learn</a>
</li>
<li>
  <a href="../news/index.html">News</a>
</li>
<li class="dropdown-header">
      </li>
</ul>
<ul class="nav navbar-nav navbar-right">
<li>
  <a href="https://github.com/david-barnett/microViz/" class="external-link">
    <span class="fab fa-github fa-lg"></span>

  </a>
</li>
      </ul>
<form class="navbar-form navbar-right hidden-xs hidden-sm" role="search">
        <div class="form-group">
          <input type="search" class="form-control" name="search-input" id="search-input" placeholder="Search..." aria-label="Search for..." autocomplete="off">
</div>
      </form>

    </div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->



      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header toc-ignore">
      <h1 data-toc-skip>Upgrading to microViz version 0.10.0 (and
beyond)</h1>
            
      
      <small class="dont-index">Source: <a href="https://github.com/david-barnett/microViz/blob/main/vignettes/articles/ps_extra-replaced.Rmd" class="external-link"><code>vignettes/articles/ps_extra-replaced.Rmd</code></a></small>
      <div class="hidden name"><code>ps_extra-replaced.Rmd</code></div>

    </div>

    
    
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://david-barnett.github.io/microViz">microViz</a></span><span class="op">)</span></span>
<span><span class="co">#&gt; <span style="font-weight: bold;">microViz version 0.12.5 - Copyright (C) 2021-2024 David Barnett</span></span></span>
<span><span class="co">#&gt; <span style="color: #BBBB00;">!</span> Website: https://david-barnett.github.io/microViz</span></span>
<span><span class="co">#&gt; <span style="color: #00BB00;">✔</span> Useful?  For citation details, run: `citation("microViz")`</span></span>
<span><span class="co">#&gt; <span style="color: #BB0000;">✖</span> Silence? `suppressPackageStartupMessages(library(microViz))`</span></span></code></pre></div>
<div class="section level2">
<h2 id="do-i-need-to-read-this">Do I need to read this?<a class="anchor" aria-label="anchor" href="#do-i-need-to-read-this"></a>
</h2>
<p>This article is important for you to read if you are already using
microViz version 0.9.7 or earlier, and would like to upgrade to the
newest version. You can check which version of microViz you are using by
running the following code.</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/utils/packageDescription.html" class="external-link">packageVersion</a></span><span class="op">(</span><span class="st">"microViz"</span><span class="op">)</span></span>
<span><span class="co">#&gt; [1] '0.12.5'</span></span></code></pre></div>
</div>
<div class="section level2">
<h2 id="key-points">Key points<a class="anchor" aria-label="anchor" href="#key-points"></a>
</h2>
<p><strong>microViz version 0.10.0 introduces changes that may break
some code written with older versions of microViz.</strong></p>
<ul>
<li>
<p><strong>Breaking change 1:</strong></p>
<ul>
<li><p><strong>Description</strong>: using the <code>$</code> operator
to access parts of the old “ps_extra” S3 class list
(e.g. <code>yourData$ps</code> or <code>yourData$dist)</code> will no
longer work in microViz 0.10.0 or later</p></li>
<li><p><strong>Solution:</strong> You must replace the use of the
<code>$</code> operator with <a href="https://david-barnett.github.io/microViz/reference/psExtra-accessors.html">accessor</a>
functions, e.g. <code><a href="../reference/psExtra-accessors.html">ps_get()</a></code> or
<code><a href="../reference/psExtra-accessors.html">dist_get()</a></code></p></li>
</ul>
</li>
<li>
<p><strong>Breaking change 2:</strong></p>
<ul>
<li><p><strong>Description</strong>: if you have a saved “ps_extra”
object generated with an older version of microViz, this will not be
compatible with microViz version 0.10.0 and later versions</p></li>
<li><p><strong>Solution</strong>: you can convert old “ps_extra” objects
to the new “psExtra” S4 objects with the new function
<code><a href="../reference/upgrade_ps_extra_to_psExtra.html">upgrade_ps_extra_to_psExtra()</a></code></p></li>
</ul>
</li>
<li>
<p><strong>Need more help?</strong></p>
<ul>
<li><p>If you have questions about upgrading your version of microViz,
please ask them here on the <a href="https://github.com/david-barnett/microViz/discussions" class="external-link">Discussions</a>
page.</p></li>
<li><p>If you encounter any other problems (not mentioned here) after
upgrading to version 0.10.0 or later, please report them as <a href="https://github.com/david-barnett/microViz/issues" class="external-link">Issues</a>, and
describe which version of microViz they occur with, e.g. include the
output of <code>packageVersion("microViz")</code> or
<code><a href="https://rdrr.io/r/utils/sessionInfo.html" class="external-link">sessionInfo()</a></code>.</p></li>
</ul>
</li>
</ul>
</div>
<div class="section level2">
<h2 id="explanation">Explanation<a class="anchor" aria-label="anchor" href="#explanation"></a>
</h2>
<p>Many microViz functions, including <code><a href="../reference/tax_transform.html">tax_transform()</a></code>,
<code><a href="../reference/dist_calc.html">dist_calc()</a></code>, etc. use and produce R objects that contain a
“phyloseq” object along with additional information (e.g. the name of
the transformation applied, and the name of the distance method used)
and additional objects (e.g. the distance matrix itself).</p>
<p>In microViz versions 0.9.7 and earlier, the extra information and
objects were stored alongside the phyloseq object in a simple (S3) list
object with the class, “ps_extra”.</p>
<p>From microViz version 0.10.0 onwards, the S3 “ps_extra” object class
is no longer used. It has been replaced with an S4 object class
“psExtra”. The “psExtra” S4 class is an extension of the “phyloseq” S4
class, with extra slots to store other information and additional
objects. All slots have a clearly named accessor function to retrieve
the information or data stored within them.</p>
<div class="section level3">
<h3 id="why-was-this-change-made">Why was this change made?<a class="anchor" aria-label="anchor" href="#why-was-this-change-made"></a>
</h3>
<p>In the long term, this change should simplify compatibility of
microViz with other packages that work with phyloseq objects. Most
functions that expect a phyloseq object should now also work with
psExtra objects, as the extra slots can just be ignored. (But for now,
if you are unsure, it is safest to use <code>ps_get</code> to extract a
plain phyloseq from any psExtra object.)</p>
</div>
<div class="section level3">
<h3 id="do-i-need-to-understand-what-s4-and-s3-classes-are">Do I need to understand what S4 and S3 classes are?<a class="anchor" aria-label="anchor" href="#do-i-need-to-understand-what-s4-and-s3-classes-are"></a>
</h3>
<p>No, you do not need to understand these concepts to use microViz. But
If you are interested to learn, a good place to start is Hadley
Wickham’s <a href="https://adv-r.hadley.nz/oo.html" class="external-link">Advanced R book
chapter on object-oriented programming</a>.</p>
</div>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">

      </div>

</div>



      <footer><div class="copyright">
  <p></p>
<p>Developed by David Barnett.</p>
</div>

<div class="pkgdown">
  <p></p>
<p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.1.</p>
</div>

      </footer>
</div>


<script src="https://cdnjs.cloudflare.com/ajax/libs/docsearch.js/2.6.1/docsearch.min.js" integrity="sha256-GKvGqXDznoRYHCwKXGnuchvKSwmx9SRMrZOTh2g4Sb0=" crossorigin="anonymous"></script><script>
  docsearch({


    apiKey: '22e6f0a75b7b1ffae9bf5bc5b58864d7',
    indexName: 'microViz',
    inputSelector: 'input#search-input.form-control',
    transformData: function(hits) {
      return hits.map(function (hit) {
        hit.url = updateHitURL(hit);
        return hit;
      });
    }
  });
</script><script data-goatcounter="https://microviz.goatcounter.com/count" async src="//gc.zgo.at/count.js"></script>
</body>
</html>
