<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Changelog • microViz</title><!-- favicons --><link rel="icon" type="image/png" sizes="96x96" href="../favicon-96x96.png"><link rel="icon" type="”image/svg+xml”" href="../favicon.svg"><link rel="apple-touch-icon" sizes="180x180" href="../apple-touch-icon.png"><link rel="icon" sizes="any" href="../favicon.ico"><link rel="manifest" href="../site.webmanifest"><script src="../lightswitch.js"></script><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet"><link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet"><script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Changelog"><meta property="og:image" content="https://david-barnett.github.io/microViz/logo.png"><!-- Global site tag (gtag.js) - Google Analytics --><script async src="https://www.googletagmanager.com/gtag/js?id=G-2YQ669S4V5"></script><script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-2YQ669S4V5');
</script></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top " aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">microViz</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.13.0</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="nav-item"><a class="nav-link" href="../articles/shao19-analyses.html">Getting Started</a></li>
<li class="nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles"><li><a class="dropdown-item" href="../articles/web-only/phyloseq.html">Working with phyloseq objects</a></li>
    <li><a class="dropdown-item" href="../articles/web-only/tax-fixing.html">Fixing your tax_table</a></li>
    <li><a class="dropdown-item" href="../articles/web-only/ordination.html">Ordination plots</a></li>
    <li><a class="dropdown-item" href="../articles/web-only/ordination-interactive.html">Interactive ordination plots</a></li>
    <li><a class="dropdown-item" href="../articles/web-only/compositions.html">Visualising compositions with barplots</a></li>
    <li><a class="dropdown-item" href="../articles/web-only/heatmaps.html">Heatmaps of microbiome composition or correlation</a></li>
    <li><a class="dropdown-item" href="../articles/web-only/modelling-taxa.html">Statistical modelling of individual taxa</a></li>
    <li><a class="dropdown-item" href="../articles/web-only/videos.html">Tutorial video</a></li>
    <li><a class="dropdown-item" href="../articles/ps_extra-replaced.html">Upgrading to microViz version 0.10.0</a></li>
    <li><a class="dropdown-item" href="../articles/web-only/atlas1006.html">Example analyses with atlas1006 data</a></li>
  </ul></li>
<li class="nav-item"><a class="nav-link" href="../articles/learn/exercises.html">Learn</a></li>
<li class="active nav-item"><a class="nav-link" href="../news/index.html">News</a></li>
<li class="nav-item"><h6 class="dropdown-header" data-toc-skip></h6></li>
      </ul><ul class="navbar-nav"><li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json"></form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/david-barnett/microViz/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-lightswitch" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true" aria-label="Light switch"><span class="fa fa-sun"></span></button>
  <ul class="dropdown-menu dropdown-menu-end" aria-labelledby="dropdown-lightswitch"><li><button class="dropdown-item" data-bs-theme-value="light"><span class="fa fa-sun"></span> Light</button></li>
    <li><button class="dropdown-item" data-bs-theme-value="dark"><span class="fa fa-moon"></span> Dark</button></li>
    <li><button class="dropdown-item" data-bs-theme-value="auto"><span class="fa fa-adjust"></span> Auto</button></li>
  </ul></li>
      </ul></div>


  </div>
</nav><div class="container template-news">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="../logo.png" class="logo" alt=""><h1>Changelog</h1>
      <small>Source: <a href="https://github.com/david-barnett/microViz/blob/main/NEWS.md" class="external-link"><code>NEWS.md</code></a></small>
    </div>

    <div class="section level2">
<h2 class="pkg-version" data-toc-text="0.13.0" id="microviz-0130">microViz 0.13.0<a class="anchor" aria-label="anchor" href="#microviz-0130"></a></h2>
<div class="section level4">
<h4 id="breaking-changes-0-13-0">Breaking changes:<a class="anchor" aria-label="anchor" href="#breaking-changes-0-13-0"></a></h4>
<ul><li>
<p>Output of <code>tax_transform</code> with “clr” will change slightly when zeros are present:</p>
<ul><li>The clr transform procedure no longer converts to compositions before adding a pseudocount and running the CLR transform.</li>
<li>This propagates a change made in the underlying <code><a href="https://rdrr.io/pkg/microbiome/man/transform.html" class="external-link">microbiome::transform</a></code> function in microbiome version 1.32.0</li>
<li>When zeros are present in the OTU table, the addition of a pseudocount of half the minimum non-zero value is now done on the raw counts, rather than on the compositions.</li>
<li>If you want the legacy behaviour, you can use the new “comp_clr” transformation option in <code>tax_transform</code>, which replicates the previous behaviour.</li>
</ul></li>
<li>
<p>Output of <code>dist_calc</code> with “aitchison” will also change slightly when zeros are present</p>
<ul><li>Change is caused by same reason as above (change in <code><a href="https://rdrr.io/pkg/microbiome/man/transform.html" class="external-link">microbiome::transform</a></code> behaviour)</li>
<li>If you want the legacy <code>dist_calc</code> aitchison distance, use <code>tax_transform</code> with “comp_clr” followed by <code>dist_calc</code> with “euclidean”.</li>
<li>This change will also affect <code>comp_barplot</code> and <code>comp_heatmap</code> sample ordering when using aitchison distance</li>
<li>If you want the legacy behaviour for <code>comp_barplot</code> sample ordering, set tax_transform_for_ordering = “comp_clr”, and sample_order = “euclidean”.</li>
<li>If you want the legacy behaviour for <code>comp_heatmap</code> sample ordering, pre-transform with <code>tax_transform("comp_clr")</code>
</li>
</ul></li>
<li><p><code>tax_transform</code> with “rclr” and <code>dist_calc</code> with “robust.aitchison” now give different results than before, due to changes in vegan ≥2.7.0 (the optspace matrix completion step)</p></li>
<li><p>microViz 0.13.0 requires vegan package ≥2.7.0 (and recommends microbiome ≥1.32.0) due to the changes in underlying transformation functions</p></li>
<li><p>microViz 0.13.0 requires ggiraph package ≥0.9.1 and ggplot2 package ≥4.0.0 to fix interactive plot issues in <code>ord_explore</code></p></li>
<li><p>microViz 0.13.0 no longer supports R versions before 4.0.0 (released 2020)</p></li>
</ul></div>
<div class="section level4">
<h4 id="fix-0-13-0">Fix:<a class="anchor" aria-label="anchor" href="#fix-0-13-0"></a></h4>
<ul><li>
<code>tax_transform</code> “rclr” now actually works again with vegan ≥2.7.0, but beware of the breaking change in how it is computed.</li>
<li>Interactive plots in <code>ord_explore</code> now work with ggiraph ≥0.9.1 and ggplot2 ≥4.0.0, which are now the required versions of those dependencies.</li>
<li>
<code>taxatree_plotkey</code> and <code>taxatree_plot_labels</code> circular label drawing now works with dplyr 1.2.0 (removed use of <code><a href="https://dplyr.tidyverse.org/reference/across.html" class="external-link">dplyr::if_all</a></code> which changed behaviour)</li>
</ul></div>
</div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="0.12.7" id="microviz-0127">microViz 0.12.7<a class="anchor" aria-label="anchor" href="#microviz-0127"></a></h2>
<ul><li>Fix: <code>dist_permanova</code> now works under R version 4.5.0</li>
</ul></div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="0.12.6" id="microviz-0126">microViz 0.12.6<a class="anchor" aria-label="anchor" href="#microviz-0126"></a></h2>
<ul><li>Fix: <code>ord_plot</code> score retrieval is now compatible with vegan 2.7.0</li>
</ul></div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="0.12.5" id="microviz-0125">microViz 0.12.5<a class="anchor" aria-label="anchor" href="#microviz-0125"></a></h2>
<ul><li>Fix: tax_fix no longer allows min_length of 0, as empty strings are (and were) always replaced</li>
<li>Fix/Feat: comp_barplot, ord_explore, and tax_sort checks/warnings about unavailable counts can be disabled with counts_warn = FALSE</li>
</ul></div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="0.12.4" id="microviz-0124">microViz 0.12.4<a class="anchor" aria-label="anchor" href="#microviz-0124"></a></h2>
<ul><li>Fix: no more cowplot legend extraction warnings in <code>ord_explore</code>
</li>
</ul></div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="0.12.3" id="microviz-0123">microViz 0.12.3<a class="anchor" aria-label="anchor" href="#microviz-0123"></a></h2>
<ul><li>Fix: allow hex code colours in <code>ord_plot</code>
</li>
</ul></div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="0.12.2" id="microviz-0122">microViz 0.12.2<a class="anchor" aria-label="anchor" href="#microviz-0122"></a></h2>
<ul><li>Fix: <code>comp_heatmap</code> helper <code>sampleAnnotation</code> will now work with R 4.4</li>
</ul></div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="0.12.1" id="microviz-0121">microViz 0.12.1<a class="anchor" aria-label="anchor" href="#microviz-0121"></a></h2>
<ul><li>corncob (a suggested dependency) back on CRAN - so no longer installed from GitHub</li>
<li>
<code>ibd</code> phyloseq dataset added to microViz, as no longer included in corncob.</li>
</ul></div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="0.12.0" id="microviz-0120">microViz 0.12.0<a class="anchor" aria-label="anchor" href="#microviz-0120"></a></h2>
<ul><li>Breaking change: va-wunifrac distance calculation is no longer available, as it is not available in GUniFrac 1.8</li>
<li>Note: If needed, <code>corncob</code> can now only be installed from GitHub, as is currently not available from CRAN. <code>corncob</code> is a suggested dependency of microViz from which data is borrowed for use in several examples, and which is needed is bbdml models are requested in tax_model.</li>
</ul></div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="0.11.0" id="microviz-0110">microViz 0.11.0<a class="anchor" aria-label="anchor" href="#microviz-0110"></a></h2>
<ul><li>
<code>taxatree_models</code> now accepts transformation arguments to allow transformation after aggregation at each rank</li>
</ul></div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="0.10.11" id="microviz-01011">microViz 0.10.11<a class="anchor" aria-label="anchor" href="#microviz-01011"></a></h2>
<ul><li>Fix: <code>taxatree_stats_p_adjust</code> can accept multiple grouping variables without specifying new_var.</li>
</ul></div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="0.10.10" id="microviz-01010">microViz 0.10.10<a class="anchor" aria-label="anchor" href="#microviz-01010"></a></h2>
<ul><li>Fix: <code>comp_barplot</code> taxon ordering is now correct when tax_level is set to “Taxon”</li>
</ul></div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="0.10.9" id="microviz-0109">microViz 0.10.9<a class="anchor" aria-label="anchor" href="#microviz-0109"></a></h2>
<ul><li>Fix: Small internal fix to avoid renderggiraph deprecation warning in ord_explore.</li>
<li>Fix: Internal fix to report NAs in OTU table more gracefully. (ps_counts issue <a href="https://github.com/david-barnett/microViz/issues/109" class="external-link">#109</a>)</li>
<li>Fix: <code><a href="../reference/tax_select.html">tax_select()</a></code> tax_list argument can now actually take a list (Issue <a href="https://github.com/david-barnett/microViz/issues/100" class="external-link">#100</a>)</li>
</ul></div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="0.10.8" id="microviz-0108">microViz 0.10.8<a class="anchor" aria-label="anchor" href="#microviz-0108"></a></h2>
<ul><li>Fix: small internal fix for compatibility with next R version (relating to loss of stringsAsFactors global option)</li>
</ul></div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="0.10.7" id="microviz-0107">microViz 0.10.7<a class="anchor" aria-label="anchor" href="#microviz-0107"></a></h2>
<ul><li>Fix for dplyr version 1.1.0 warnings e.g. about across() wanting explicit .cols use</li>
</ul></div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="0.10.6" id="microviz-0106">microViz 0.10.6<a class="anchor" aria-label="anchor" href="#microviz-0106"></a></h2>
<ul><li>Fix shao19 example data: family rank in tax table now correctly shows families</li>
</ul></div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="0.10.5" id="microviz-0105">microViz 0.10.5<a class="anchor" aria-label="anchor" href="#microviz-0105"></a></h2>
<ul><li>Bug fix: manual direct labelling of <code>taxatree_plots</code> with <code>taxatree_labels</code> and <code>taxatree_plot_labels</code> works properly also with phyloseq object that lack a rooting rank (e.g. kingdom)</li>
<li>Bug fix: <code>comp_barplot</code> bars are now in the correct order again when using tax_level = “unique”</li>
<li>New Getting Started article</li>
</ul></div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="0.10.4" id="microviz-0104">microViz 0.10.4<a class="anchor" aria-label="anchor" href="#microviz-0104"></a></h2>
<ul><li>Bug fix: manual direct labelling of <code>taxatree_plots</code> with <code>taxatree_labels</code> and <code>taxatree_plot_labels</code> works properly (without losing stats info for any rank)</li>
</ul></div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="0.10.3" id="microviz-0103">microViz 0.10.3<a class="anchor" aria-label="anchor" href="#microviz-0103"></a></h2>
<ul><li>
<code>taxatree_plotkey</code> IMPORTANT BUG FIX: layout now matches taxatree_plots again</li>
<li>Fixed broken ReadMe links</li>
</ul></div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="0.10.2" id="microviz-0102">microViz 0.10.2<a class="anchor" aria-label="anchor" href="#microviz-0102"></a></h2>
<div class="section level3">
<h3 id="features-0-10-2">Features<a class="anchor" aria-label="anchor" href="#features-0-10-2"></a></h3>
<ul><li>
<code>ps_get</code> can return phyloseq with taxon counts when counts = TRUE and counts are available</li>
</ul></div>
<div class="section level3">
<h3 id="bug-fixes-0-10-2">Bug fixes<a class="anchor" aria-label="anchor" href="#bug-fixes-0-10-2"></a></h3>
<ul><li>
<code>taxatree_plots</code> and keys more robust <a href="https://github.com/david-barnett/microViz/issues/43" class="external-link">#43</a> and no deprecation warnings <a href="https://github.com/david-barnett/microViz/issues/80" class="external-link">#80</a></li>
<li>
<code>tax_transform</code> add argument accepts “halfmin” again <a href="https://github.com/david-barnett/microViz/issues/77" class="external-link">#77</a></li>
<li>
<code>tax_top</code> can use_counts <a href="https://github.com/david-barnett/microViz/issues/78" class="external-link">#78</a></li>
<li>Compatibility with old R versions 3.6.* improved (explicit stringsAsFactors = FALSE)</li>
</ul></div>
</div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="0.10.1" id="microviz-0101">microViz 0.10.1<a class="anchor" aria-label="anchor" href="#microviz-0101"></a></h2>
<ul><li>Updates for compatibility with ggplot2 3.4.0</li>
<li>Move DT, ggraph and tidygraph to suggested dependencies</li>
</ul></div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="0.10.0" id="microviz-0100">microViz 0.10.0<a class="anchor" aria-label="anchor" href="#microviz-0100"></a></h2>
<p>Major internal changes from S3 ps_extra to S4 psExtra objects. See <a href="../articles/ps_extra-replaced.html">article about this change</a></p>
<p>This version also introduces changes around <code>tax_model</code> and <code>taxatree_models</code> functionality.</p>
<div class="section level3">
<h3 id="breaking-changes-0-10-0">Breaking changes<a class="anchor" aria-label="anchor" href="#breaking-changes-0-10-0"></a></h3>
<ul><li>Using the <code>$</code> operator to access parts of the old “ps_extra” S3 class will no longer work and must be replaced with accessor functions, e.g. <code>ps_get</code>
</li>
<li>“ps_extra” objects generated with older versions will not be compatible with version 0.10.0 and can be converted to the new “psExtra” S4 objects with <code>upgrade_ps_extra_to_psExtra</code>
</li>
<li>
<code>tax_model</code> and <code>taxatree_model</code> parallel processing with future and future.apply is off by default, and needs to be enabled with argument use_future = TRUE.</li>
<li>
<code>tax_model</code> attaches results to psExtra object by default, but you can restore old behaviour with return_psx = FALSE</li>
<li>
<code>comp_barplot</code> “other” taxa category renamed to “Other” by default</li>
</ul></div>
<div class="section level3">
<h3 id="features-0-10-0">Features<a class="anchor" aria-label="anchor" href="#features-0-10-0"></a></h3>
<ul><li>
<code>tax_model</code> and <code>taxatree_model</code> can now run multiple models per taxon, by accepting <strong>lists</strong> for formula or variables arguments. This allows running e.g. three simple regression models per taxon with predictors a, b, and c with variables = list(“a”, “b”, “c”)</li>
<li>
<code>cor_test</code> is a new simple wrapper around <code><a href="https://rdrr.io/r/stats/cor.test.html" class="external-link">stats::cor.test</a></code> with a y~x formula interface, allowing its use in <code>tax_model</code>
</li>
</ul></div>
<div class="section level3">
<h3 id="fixes-0-10-0">Fixes<a class="anchor" aria-label="anchor" href="#fixes-0-10-0"></a></h3>
<ul><li>No more deprecation warnings in <code>taxatree_plot_labels</code>
</li>
</ul></div>
</div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="0.9.7" id="microviz-097">microViz 0.9.7<a class="anchor" aria-label="anchor" href="#microviz-097"></a></h2>
<div class="section level3">
<h3 id="features-0-9-7">Features<a class="anchor" aria-label="anchor" href="#features-0-9-7"></a></h3>
<ul><li>
<code>comp_barplot</code> gains x argument, to change default x aesthetic to something other than SAMPLE, which is useful for (faceted) plotting of repeated samples from the same site/individual over time or in different conditions when some samples are missing (see compositions tutorial article)</li>
<li>
<code>ps_seriate</code> can now aggregate taxa before seriation (returns unaggregated still)</li>
</ul></div>
</div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="0.9.6" id="microviz-096">microViz 0.9.6<a class="anchor" aria-label="anchor" href="#microviz-096"></a></h2>
<div class="section level3">
<h3 id="features-0-9-6">Features<a class="anchor" aria-label="anchor" href="#features-0-9-6"></a></h3>
<ul><li>Custom reordering of taxa on <code>comp_barplot</code> is now easier, just name the taxa you want to see first in the tax_order argument, and they will be brought to the front</li>
<li>
<code>tax_reorder</code> is exported, and now accepts a subset of all available taxa names (powering the improvement in comp_barplot)</li>
</ul></div>
<div class="section level3">
<h3 id="fixes-0-9-6">Fixes<a class="anchor" aria-label="anchor" href="#fixes-0-9-6"></a></h3>
<ul><li>Bump rlang dependency version to 1.0.0 fixing <a href="https://github.com/david-barnett/microViz/issues/69" class="external-link uri">https://github.com/david-barnett/microViz/issues/69</a>
</li>
</ul></div>
</div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="0.9.5" id="microviz-095">microViz 0.9.5<a class="anchor" aria-label="anchor" href="#microviz-095"></a></h2>
<div class="section level3">
<h3 id="fixes-0-9-5">Fixes<a class="anchor" aria-label="anchor" href="#fixes-0-9-5"></a></h3>
<ul><li>
<code>tax_rename</code> accepts integerish values for pad_digits argument</li>
</ul></div>
</div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="0.9.4" id="microviz-094">microViz 0.9.4<a class="anchor" aria-label="anchor" href="#microviz-094"></a></h2>
<div class="section level3">
<h3 id="fixes-0-9-4">Fixes<a class="anchor" aria-label="anchor" href="#fixes-0-9-4"></a></h3>
<ul><li>
<code>otu_get</code> correctly subsets samples or taxa if requested</li>
<li>heatmaps with one row or column can be plotted without explicitly suppressing seriation</li>
</ul></div>
</div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="0.9.3" id="microviz-093">microViz 0.9.3<a class="anchor" aria-label="anchor" href="#microviz-093"></a></h2>
<div class="section level3">
<h3 id="features-0-9-3">Features<a class="anchor" aria-label="anchor" href="#features-0-9-3"></a></h3>
<p>Robust clr and robust aitchison distance are now supported following their inclusion in vegan - <code>tax_transform</code> supports “rclr” (robust centered log ratio) - <code>dist_calc</code> supports “robust.aitchison” distance (as rclr &amp; euclidean distance)</p>
</div>
</div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="0.9.2" id="microviz-092">microViz 0.9.2<a class="anchor" aria-label="anchor" href="#microviz-092"></a></h2>
<div class="section level3">
<h3 id="features-0-9-2">Features<a class="anchor" aria-label="anchor" href="#features-0-9-2"></a></h3>
<ul><li><p><code>ps_dedupe</code> now allows keeping a specified number of samples per group, not just one, which could be useful for e.g. keeping the first 2 samples per participant or site.</p></li>
<li><p>shao19 dataset now included in microViz for use in the “Learn microbiome analysis with microViz” tutorial</p></li>
</ul></div>
<div class="section level3">
<h3 id="fixes-0-9-2">Fixes<a class="anchor" aria-label="anchor" href="#fixes-0-9-2"></a></h3>
<ul><li>
<code>ps_dedupe</code> now deduplicates samples correctly when duplicates are specified with multiple variables, and provides a labelling-only mode to check duplicate identification result before removal.</li>
</ul></div>
</div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="0.9.1" id="microviz-091">microViz 0.9.1<a class="anchor" aria-label="anchor" href="#microviz-091"></a></h2>
<div class="section level3">
<h3 id="features-0-9-1">Features<a class="anchor" aria-label="anchor" href="#features-0-9-1"></a></h3>
<ul><li>New function <code>tax_palette</code> allows easy creation of a fixed colour palette for taxa, to use with e.g. comp_barplot</li>
<li>New convenience functions <code>ps_calc_diversity</code> and <code>ps_calc_richness</code> to calculate a diversity or richness index (using microbiome package functions) and add to phyloseq sample data</li>
<li>New function <code>tax_rename</code> allows renaming of taxa using unique combination of classification at any chosen rank and abundance of that taxon (e.g. ASV145 becomes Bifidobacterium-002, which can be interpreted as the second most abundant Bifidobacterium ASV)</li>
<li>
<code>tax_sort</code> can now sort taxa “asis” (i.e. do nothing), which now permits upfront custom sorting of taxa for use in <code>comp_barplot</code>
</li>
<li>
<code>tax_sort</code> can now transform taxa temporarily for sorting e.g. to sort by mean compositional (%) relative abundance</li>
</ul></div>
</div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="0.9.0" id="microviz-090">microViz 0.9.0<a class="anchor" aria-label="anchor" href="#microviz-090"></a></h2>
<div class="section level3">
<h3 id="heatmaps-major-changes-0-9-0">Heatmaps major changes<a class="anchor" aria-label="anchor" href="#heatmaps-major-changes-0-9-0"></a></h3>
<p><strong><code>comp_heatmap</code> and <code>cor_heatmap</code> and their helpers are largely rewritten.</strong> For guidance, see the new website article on heatmaps.</p>
<ul><li>
<code>taxAnnotation</code> and <code>varAnnotation</code> annotation helper functions replace the deprecated <code>tax_anno</code> and <code>var_anno</code> functions</li>
<li>
<code>sampleAnnotation</code> is added for coordinating sample annotations on <code>comp_heatmap</code>
</li>
<li>various <code>anno_*</code> helpers for each of the annotation coordinating functions above</li>
</ul></div>
</div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="0.8.2" id="microviz-082">microViz 0.8.2<a class="anchor" aria-label="anchor" href="#microviz-082"></a></h2>
<div class="section level3">
<h3 id="features-0-8-2">Features<a class="anchor" aria-label="anchor" href="#features-0-8-2"></a></h3>
<ul><li>
<code>taxatree_plots</code> can now show symbols indicating multiple levels of statistical significance</li>
<li>
<code>taxatree_plots</code>: it is now easier to use other colour palettes with their default luminance</li>
</ul></div>
</div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="0.8.1" id="microviz-081">microViz 0.8.1<a class="anchor" aria-label="anchor" href="#microviz-081"></a></h2>
<div class="section level3">
<h3 id="features-0-8-1">Features<a class="anchor" aria-label="anchor" href="#features-0-8-1"></a></h3>
<ul><li>
<code>ord_explore</code> can perform “binary” transformations, unlocking interactive use of Binary Jaccard etc.</li>
<li>
<code>tax_transform</code> gains <code>add</code> argument to simply add a constant value to all otu_table values before transformation (as an alternative to <code>zero_replace</code>)</li>
<li>
<code>tax_scale</code> gains <code>keep_counts</code> argument for consistency with <code>tax_transform</code>
</li>
</ul></div>
<div class="section level3">
<h3 id="fixes-0-8-1">Fixes<a class="anchor" aria-label="anchor" href="#fixes-0-8-1"></a></h3>
<ul><li>
<code>tax_model</code> now only requires <code>corncob</code> to be installed when actually used</li>
<li>
<code>ord_explore</code> barplot numerical inputs are now debounced to prevent lag from repeated redrawing</li>
</ul></div>
</div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="0.8.0" id="microviz-080---autumn-leaves">microViz 0.8.0 - “autumn leaves”<a class="anchor" aria-label="anchor" href="#microviz-080---autumn-leaves"></a></h2>
<div class="section level3">
<h3 id="breaking-changes-0-8-0">Breaking changes<a class="anchor" aria-label="anchor" href="#breaking-changes-0-8-0"></a></h3>
<div class="section level4">
<h4 id="trees-0-8-0">Trees<a class="anchor" aria-label="anchor" href="#trees-0-8-0"></a></h4>
<p><strong>The taxatree_* family of functions are largely rewritten.</strong> For guidance, see the new website article on statistical modelling of taxa.</p>
<ul><li>
<code>taxatree_models</code> now attaches resulting list to ps_extra</li>
<li>
<code>taxatree_models2stats</code> must be run on the output of <code>taxatree_models</code> before using <code>taxatree_plots</code>
</li>
<li>
<code>taxatree_plots</code> has different arguments and can now be directly labelled with <code>taxatree_plot_labels</code> when <code>taxatree_label</code> is run first to identify which taxa to label.</li>
<li>
<code>taxatree_plotkey</code> has different arguments, with more flexible labelling conditions and a smarter label positioning approach.</li>
<li>
<code>tax_model</code> and <code>taxatree_models</code> now use “lm” type by default, instead of “bbdml”, as <code>corncob</code> is only a suggested dependency.</li>
</ul></div>
<div class="section level4">
<h4 id="ordination-0-8-0">Ordination<a class="anchor" aria-label="anchor" href="#ordination-0-8-0"></a></h4>
<ul><li>
<code>ord_plot</code> default labels now have <code>alpha</code> = 1 for both taxa and constraints (previously 0.8)</li>
<li>
<code>ord_plot</code> “auto”matic loading/constraint vector length scalar adjustment improvement: now uses both axes</li>
</ul></div>
<div class="section level4">
<h4 id="barplots-0-8-0">Barplots<a class="anchor" aria-label="anchor" href="#barplots-0-8-0"></a></h4>
<ul><li>
<code>comp_barplot</code> now uses bray-curtis by default for sample ordering (instead of aitchison) as this generally looks better</li>
<li>
<code>comp_barplot</code> now expects palette argument colours in first-to-last order, which is more intuitive than the previous reverse order</li>
<li>
<code>distinct_palette</code> now adds “lightgrey” to end by default</li>
</ul></div>
<div class="section level4">
<h4 id="other-0-8-0">Other<a class="anchor" aria-label="anchor" href="#other-0-8-0"></a></h4>
<ul><li>
<code>tax_filter</code>’s <code>is_counts</code> argument replaced by <code>use_counts</code>, allowing it to filter ps_extra objects using stored count data (i.e. after <code>tax_transform</code>).</li>
<li>
<code>comp_heatmap</code> can no longer transform data internally, but accepts data already transformed with <code>tax_transform</code> and uses stored count data in the ps_extra for any taxa annotations</li>
<li>
<code>tax_anno</code> heatmap annotation default style slightly changed.</li>
<li>
<code>tax_names2rank</code> replaces deprecated <code>tax_names2tt</code>
</li>
</ul></div>
</div>
<div class="section level3">
<h3 id="features-0-8-0">Features<a class="anchor" aria-label="anchor" href="#features-0-8-0"></a></h3>
<ul><li>
<code>ord_plot</code> arrow labels can now be rotated with the help of <code><a href="../reference/Ordination-labels.html">tax_lab_style()</a></code> and <code><a href="../reference/Ordination-labels.html">constraint_lab_style()</a></code>
</li>
<li>
<code>ps_calc_dominant</code> function added, for conveniently identifying the dominant taxon in each phyloseq sample</li>
<li>
<code>distinct_palette</code> gains “kelly” and “greenArmytage” palettes and helpfully adds “lightgrey” to the end by default for convenient use as the palette argument to <code>comp_barplot</code>
</li>
<li>
<code>tax_transform</code> can now chain multiple transformations together and records these transformations in the ps_extra output</li>
<li>
<code>tax_mutate</code> function added, for modifying the tax_table rank variables with <code>dplyr</code> <code>mutate</code> syntax</li>
<li>
<code>tax_sort</code> can now sort ps_extra objects</li>
<li>heatmap annotation helper <code>tax_anno</code> no longer requires ‘column’ or ‘row’ to be specified in advance</li>
<li>
<code>prev</code>, a low level helper function for calculating taxon prevalence now exported</li>
<li>Various phyloseq accessor functions now work with ps_extra objects e.g. taxa_names, sample_names</li>
</ul></div>
<div class="section level3">
<h3 id="fixes-0-8-0">Fixes<a class="anchor" aria-label="anchor" href="#fixes-0-8-0"></a></h3>
<ul><li>
<code>cor_heatmap</code> and <code>comp_heatmap</code> now respect column seriation arguments when different to row seriation</li>
<li>
<code>comp_barplot</code> now actually orders grouped samples by similarity AFTER splitting into groups, as documented</li>
</ul></div>
</div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="0.7.10" id="microviz-0710">microViz 0.7.10<a class="anchor" aria-label="anchor" href="#microviz-0710"></a></h2>
<p>Updated citation information for JOSS publication. No other changes.</p>
</div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="0.7.9" id="microviz-079">microViz 0.7.9<a class="anchor" aria-label="anchor" href="#microviz-079"></a></h2>
<p>Release accompanying JOSS manuscript acceptance.</p>
<ul><li>Includes a fix (hopefully temporary) for incorrect barplot legend in ord_explore caused by bug introduced by ggplot2 version 3.3.4 noted at <a href="https://github.com/tidyverse/ggplot2/issues/4511" class="external-link uri">https://github.com/tidyverse/ggplot2/issues/4511</a>
</li>
</ul></div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="0.7.8" id="microviz-078">microViz 0.7.8<a class="anchor" aria-label="anchor" href="#microviz-078"></a></h2>
<ul><li>
<code>ord_plot</code> gains <code>vec_*</code> helper functions for generating lists for styling taxa and constraint vectors/arrows (<code>vec_constraint</code>, <code>vec_tax_all</code> and <code>vec_tax_sel</code>)</li>
</ul></div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="0.7.7" id="microviz-077">microViz 0.7.7<a class="anchor" aria-label="anchor" href="#microviz-077"></a></h2>
<ul><li>
<code>ord_explore</code> shapes selection bug fixed by limiting to 5 shapes returned by new <code>scale_shape_girafe_filled</code> function</li>
</ul></div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="0.7.6" id="microviz-076">microViz 0.7.6<a class="anchor" aria-label="anchor" href="#microviz-076"></a></h2>
<div class="section level3">
<h3 id="features-0-7-6">Features<a class="anchor" aria-label="anchor" href="#features-0-7-6"></a></h3>
<ul><li>
<code>stat_chulls</code> added, for drawing convex hulls on ord_plot and ord_explore ordinations</li>
<li>
<code>add_paths</code> added, for drawing geom_paths connecting a subset of samples (over time) on an ordination plot</li>
</ul></div>
<div class="section level3">
<h3 id="fixes-0-7-6">Fixes<a class="anchor" aria-label="anchor" href="#fixes-0-7-6"></a></h3>
<ul><li>
<code>phyloseq_validate</code> no longer checks “unique” tax_table rank column for NAs or nchar&lt;4 (avoiding warnings in ord_explore caused by short taxa_names)</li>
</ul></div>
</div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="0.7.5" id="microviz-075">microViz 0.7.5<a class="anchor" aria-label="anchor" href="#microviz-075"></a></h2>
<ul><li>
<code>ord_explore</code> can now draw stat_ellipse or taxa loading vectors</li>
<li>
<code>tax_agg</code> error messages now include personalised suggested tax_fix code</li>
</ul></div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="0.7.4" id="microviz-074">microViz 0.7.4<a class="anchor" aria-label="anchor" href="#microviz-074"></a></h2>
<ul><li>
<code>ord_explore</code> Shiny app GUI can now also be used to interactively generate ordination plots, and to generate <code>ord_plot</code> code</li>
<li>
<code>ord_plot</code> bug fix - can now plot any dimension</li>
<li>Removed deprecated <code>tax_fill_unknowns</code> function</li>
</ul></div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="0.7.3" id="microviz-073">microViz 0.7.3<a class="anchor" aria-label="anchor" href="#microviz-073"></a></h2>
<ul><li>
<code>phyloseq_validate</code> verbose = FALSE is actually silent now.</li>
</ul></div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="0.7.2" id="microviz-072">microViz 0.7.2<a class="anchor" aria-label="anchor" href="#microviz-072"></a></h2>
<ul><li>
<code>ord_explore</code> now compatible with Shiny version &gt;=1.5.0</li>
<li>
<code>tax_fix</code> now sends messages about fixing completely anonymous rows, instead of warnings</li>
</ul></div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="0.7.1" id="microviz-071">microViz 0.7.1<a class="anchor" aria-label="anchor" href="#microviz-071"></a></h2>
<p>Allows <code>ps_seriate</code>, <code>ps_arrange</code>, <code>ps_reorder</code>, <code>ps_mutate</code>, and <code>ps_select</code> to work directly with <code>ps_extra</code> objects, as this can be helpful when quickly exploring / printing aggregated data, as in the new “Working with phyloseq objects” tutorial.</p>
</div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="0.7.0" id="microviz-070---fickle-fixes">microViz 0.7.0 - “fickle fixes”<a class="anchor" aria-label="anchor" href="#microviz-070---fickle-fixes"></a></h2>
<div class="section level3">
<h3 id="breaking-changes-0-7-0">Breaking changes<a class="anchor" aria-label="anchor" href="#breaking-changes-0-7-0"></a></h3>
<ul><li>
<code>tax_fix</code> replaces the deprecated <code>tax_fill_unknowns</code>, <code>tax_fix</code> has all the same arguments except the ‘levels’ argument, which was removed</li>
</ul></div>
<div class="section level3">
<h3 id="features-0-7-0">Features<a class="anchor" aria-label="anchor" href="#features-0-7-0"></a></h3>
<ul><li>
<code>tax_fix_interactive</code> Shiny app will help you clean up your taxonomy table with <code>tax_fix</code>
</li>
</ul></div>
</div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="0.6.1" id="microviz-061">microViz 0.6.1<a class="anchor" aria-label="anchor" href="#microviz-061"></a></h2>
<div class="section level3">
<h3 id="breaking-changes-0-6-1">Breaking changes<a class="anchor" aria-label="anchor" href="#breaking-changes-0-6-1"></a></h3>
<ul><li>
<code>ord_plot_iris</code> and <code>ord_explore</code> no longer take ps argument of untransformed counts, because (by default) <code>tax_transform</code> now keeps the untransformed counts otu_table in the ps_extra object</li>
</ul></div>
<div class="section level3">
<h3 id="features-0-6-1">Features<a class="anchor" aria-label="anchor" href="#features-0-6-1"></a></h3>
<ul><li>
<code>ord_explore</code> now allows much better control over selection of points (using <code>ggiraph</code> functionality)</li>
<li>
<code>ord_plot</code> now has interactive option with <code>ggiraph</code> package</li>
<li>
<code>ord_plot_iris</code> gains ord_plot argument, allowing a simple pairing of iris plot and ordination to be made more easily</li>
<li>
<code>comp_barplot</code> (and by extension <code>ord_plot_iris</code>) can now be made interactive in a simple fashion, using ggiraph for hover/tooltip interaction with taxa</li>
</ul></div>
</div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="0.6.0" id="microviz-060---open-sesame">microViz 0.6.0 - “open sesame”<a class="anchor" aria-label="anchor" href="#microviz-060---open-sesame"></a></h2>
<p>This is the first public release version of microViz. It is still under active development, so pay attention to the following:</p>
<ul><li>Minor version changes (e.g. 0.5.* to 0.6.0) will signal that breaking changes have been made, i.e. installing the new version may break some previously working code. Breaking changes will be listed in this document.</li>
<li>Patch versions (e.g. 0.5.1 to 0.5.2) will be used to release new features and bug fixes, which should not break existing code. Please let me know if it does anyway!</li>
</ul><div class="section level3">
<h3 id="breaking-changes-0-6-0">Breaking changes<a class="anchor" aria-label="anchor" href="#breaking-changes-0-6-0"></a></h3>
<ul><li>
<code>tax_agg</code> argument agg_level renamed to rank. <code>tax_agg</code> returns taxa in different order than before (and now different order from, but same aggregation as, <code><a href="https://rdrr.io/pkg/microbiome/man/aggregate_taxa.html" class="external-link">microbiome::aggregate_taxa()</a></code>). tax_agg now checks if taxa cannot be uniquely identified at the specified rank level. (now also about twice as fast)</li>
<li>
<code>tax_fill_unknowns</code> x arg renamed to ps. Also now stops when unknown values are detected to the left of known values in the tax_table, as this should always be wrong/need fixing. Also, by default it now searches a larger list of probably unknown/uninformative tax_table values e.g. “k__NA”, “p__Unknown” will now be replaced</li>
</ul></div>
<div class="section level3">
<h3 id="features-0-6-0">Features<a class="anchor" aria-label="anchor" href="#features-0-6-0"></a></h3>
<ul><li>
<code>comp_barplot</code> gets merge_other argument, which, when FALSE, shows full diversity of samples by outlining individual taxa within the (grey) “other” category!</li>
<li>
<code>tax_sort</code> for sorting taxa in tax_table and otu_table by several name or abundance options (deletes phy_tree if present!)</li>
<li>
<code>tax_transform</code> can take a rank argument, to perform aggregation (internally using tax_agg) and transformation with one function, and record the results. <strong>This is now the recommended usage!</strong>
</li>
<li>
<code>tax_transform</code> new transformation = “binary” can convert to presence/absence data (used by <code>tax_sort</code> for by = “prev”)</li>
<li>
<code>tax_top</code> for flexibly returning top n taxa, at chosen rank, with ordering by <code>tax_sort</code>
</li>
</ul></div>
</div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="0.5.0" id="microviz-050---hot-maps">microViz 0.5.0 - “hot maps”<a class="anchor" aria-label="anchor" href="#microviz-050---hot-maps"></a></h2>
<div class="section level3">
<h3 id="breaking-changes-0-5-0">Breaking changes<a class="anchor" aria-label="anchor" href="#breaking-changes-0-5-0"></a></h3>
<ul><li>
<code>cor_heatmap</code> and <code>comp_heatmap</code> argument changed: ‘taxa_which’ replaced with ‘taxa_side’ for easier control over where taxa annotations are placed (default behaviour stays the same)</li>
</ul></div>
<div class="section level3">
<h3 id="features-0-5-0">Features<a class="anchor" aria-label="anchor" href="#features-0-5-0"></a></h3>
<ul><li>Optionally annotate <code>cor_heatmap</code> with variable distributions using <code>var_anno</code> and its helpers: <code>anno_var_box</code> and <code>anno_var_hist</code>
</li>
<li>
<code>cor_heatmap</code> gets ‘var_fun’ argument for transforming variables before correlating</li>
<li>
<code>phyloseq_validate</code> checks for zero taxa, which can happen after filtering samples</li>
<li>
<code>tax_filter</code> gets undetected arg (greater than), as optional alternative to prev_detection_threshold (greater than or equal to)</li>
</ul></div>
<div class="section level3">
<h3 id="bug-fixes-0-5-0">Bug fixes<a class="anchor" aria-label="anchor" href="#bug-fixes-0-5-0"></a></h3>
<ul><li>heatmaps should handle NAs better (<code>viz_heatmap</code> internal function fix)</li>
<li>
<code>heat_palette</code> can set range arg manually now without errors</li>
</ul></div>
<div class="section level3">
<h3 id="other-0-5-0">Other<a class="anchor" aria-label="anchor" href="#other-0-5-0"></a></h3>
<ul><li>minor versions from 0.5 will now get a memorable name, probably referring to features added since the last minor version</li>
</ul></div>
</div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="0.4.3" id="microviz-043">microViz 0.4.3<a class="anchor" aria-label="anchor" href="#microviz-043"></a></h2>
<div class="section level3">
<h3 id="features-0-4-3">Features<a class="anchor" aria-label="anchor" href="#features-0-4-3"></a></h3>
<ul><li>
<code>cor_heatmap</code> for microbe-metadata correlation heatmaps</li>
<li>
<code>comp_heatmap</code> for visualising taxonomic composition across samples (ordered/clustered)</li>
<li>
<code>ord_calc</code> can now guess which method the user wants by default (by checking for presence of distance matrix and constraints)</li>
<li>
<code>ord_plot</code> auto_caption size can now be set, and it also now exposes the <code>coord_*</code> args: expand and clip</li>
<li>
<code>ord_plot_iris</code> now handles multiple rings of anno_binary annotations, and anno_binary position is now closer when no anno_colour is set</li>
<li>
<code>ord_explore</code> shiny app menu styling is a little cleaner (but still needs some love)</li>
<li>
<code>tax_scale</code> for applying <code><a href="https://rdrr.io/r/base/scale.html" class="external-link">base::scale()</a></code> to phyloseq otu_table</li>
<li>
<code>tax_name</code> for easily setting informative unique phyloseq taxa_names</li>
</ul></div>
<div class="section level3">
<h3 id="bug-fixes-0-4-3">Bug fixes<a class="anchor" aria-label="anchor" href="#bug-fixes-0-4-3"></a></h3>
<ul><li>
<code>dist_permanova</code>’s obsolete return arg removed</li>
<li>
<code>tax_filter</code> gets explicit handling of compositional input</li>
<li>
<code>tax_fill_unknowns</code> gets better handling of fully unclassified taxa</li>
<li>
<code>taxatree_nodes</code> now checks for cross-rank name duplications, which would mess up the taxatree graph structure</li>
</ul></div>
</div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="0.4.2" id="microviz-042">microViz 0.4.2<a class="anchor" aria-label="anchor" href="#microviz-042"></a></h2>
<div class="section level3">
<h3 id="bug-fixes-0-4-2">Bug fixes<a class="anchor" aria-label="anchor" href="#bug-fixes-0-4-2"></a></h3>
<ul><li>
<code>ord_explore</code> now works with ps_extra classes</li>
<li>
<code>tax_fill_unknowns</code> gives informative error on data with only one taxonomic rank</li>
<li>
<code>tax_filter</code> ps argument default removed</li>
</ul></div>
</div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="0.4.1" id="microviz-041">microViz 0.4.1<a class="anchor" aria-label="anchor" href="#microviz-041"></a></h2>
<div class="section level3">
<h3 id="bug-fixes-0-4-1">Bug fixes:<a class="anchor" aria-label="anchor" href="#bug-fixes-0-4-1"></a></h3>
<ul><li>
<code>ord_calc</code> now correctly returns subsetted phyloseq in ps_extra obj after constrained ordination</li>
<li>
<code>taxatree_plots</code> and <code>taxatree_plotkey</code> now have reactive automatic <strong>minimum</strong> node and edge sizes that depend on the set maxes</li>
</ul></div>
</div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="0.4.0" id="microviz-040">microViz 0.4.0<a class="anchor" aria-label="anchor" href="#microviz-040"></a></h2>
<div class="section level3">
<h3 id="breaking-changes-0-4-0">Breaking changes<a class="anchor" aria-label="anchor" href="#breaking-changes-0-4-0"></a></h3>
<ul><li>
<code>dist_permanova</code> replaces <code>permanova</code> for naming consistency and guiding user</li>
<li>
<code>comp_barplot</code> replaces <code>plot_comp_bar</code> in anticipation of (a) future heatmap function(s) named comp_heatmap or similar</li>
</ul></div>
<div class="section level3">
<h3 id="features-0-4-0">Features<a class="anchor" aria-label="anchor" href="#features-0-4-0"></a></h3>
<p>New <strong>“ps_extra”</strong> class (S3) conveniently stores phyloseq object alongside any calculated distance matrix, ordination and permanova models, as well as records of <code>tax_agg</code> and <code>tax_transform</code> calls. “ps_extra” class objects have a pretty and compact print method, a simple list structure, and convenient accessor functions to return each component: <code>ps_get</code>, <code>info_get</code>, <code>dist_get</code>, <code>ord_get</code>, <code>perm_get</code>, <code>bdisp_get</code>.</p>
</div>
</div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="0.3.2" id="microviz-032">microViz 0.3.2<a class="anchor" aria-label="anchor" href="#microviz-032"></a></h2>
<div class="section level3">
<h3 id="features-0-3-2">Features<a class="anchor" aria-label="anchor" href="#features-0-3-2"></a></h3>
<ul><li>Taxon modelling updates:
<ul><li>
<code>tax_model</code> and <code>taxatree_models</code> can handle linear modeling e.g. on compositional (TS-Scaled) data</li>
<li>
<code>taxatree_plots</code> has more sensible defaults (automatic symmetrical colour limits and variable selection based on model type)</li>
</ul></li>
</ul></div>
</div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="0.3.1" id="microviz-031">microViz 0.3.1<a class="anchor" aria-label="anchor" href="#microviz-031"></a></h2>
<div class="section level3">
<h3 id="breaking-changes-0-3-1">Breaking changes<a class="anchor" aria-label="anchor" href="#breaking-changes-0-3-1"></a></h3>
<ul><li>
<code>ord_plot_iris</code> the <code>data</code> arg is replaced with <code>ord</code> and conditionally optional <code>ps</code> arg for when data in <code>ord</code> have been transformed</li>
<li>
<code>permanova</code> always uses adonis2 now, so that arg is <strong>removed</strong>, and replaced with <code>by</code> argument to set sums of squares choice</li>
</ul></div>
<div class="section level3">
<h3 id="features-0-3-1">Features<a class="anchor" aria-label="anchor" href="#features-0-3-1"></a></h3>
<ul><li>
<code>ord_plot</code> gets a <code>center</code> argument to center expand the plot limits to center around zero (useful when pairing with <code>ord_plot_iris</code>)</li>
<li>
<code>ord_explore</code> can now also display ordinations that don’t use distances like PCA and RDA (as well as PCoA of course)</li>
<li>
<code>ord_explore</code> gains a <code>ps</code> arg (for untransformed version) and other tweaks to facilitate using transformed data in <code>ord</code>
</li>
</ul></div>
<div class="section level3">
<h3 id="other-fixes-0-3-1">Other fixes<a class="anchor" aria-label="anchor" href="#other-fixes-0-3-1"></a></h3>
<ul><li>
<code>ord_plot_iris</code> annotation args are now NULL by default.</li>
<li>
<code>microbiome::aggregate_top_taxa</code> is copied directly into <code>microViz</code> to avoid its coming deprecation and the current warning.</li>
</ul></div>
</div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="0.2.0" id="microviz-020">microViz 0.2.0<a class="anchor" aria-label="anchor" href="#microviz-020"></a></h2>
<div class="section level3">
<h3 id="features-0-2-0">Features<a class="anchor" aria-label="anchor" href="#features-0-2-0"></a></h3>
<ul><li>
<code>taxatree_models</code> and <code>taxatree_plots</code> bring tree-based visualisations of statistical models</li>
</ul></div>
<div class="section level3">
<h3 id="breaking-changes-0-2-0">Breaking changes<a class="anchor" aria-label="anchor" href="#breaking-changes-0-2-0"></a></h3>
<ul><li>
<code>tax_model</code> replaces <code>tax_model_corncob</code> as a function that will eventually be generalised to use other model types</li>
<li>
<code>taxatree_plots</code> and <code>taxatree_plotkey</code> replaces the rudimentary <code>taxatree_plot</code>
</li>
</ul></div>
</div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="0.1.2" id="microviz-012">microViz 0.1.2<a class="anchor" aria-label="anchor" href="#microviz-012"></a></h2>
<div class="section level3">
<h3 id="features-0-1-2">Features<a class="anchor" aria-label="anchor" href="#features-0-1-2"></a></h3>
<ul><li>
<code>ord_explore</code> allows interactive exploration of the composition of ordinated samples using <code>Shiny</code>
</li>
</ul></div>
</div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="0.1.1" id="microviz-011">microViz 0.1.1<a class="anchor" aria-label="anchor" href="#microviz-011"></a></h2>
<div class="section level3">
<h3 id="features-0-1-1">Features<a class="anchor" aria-label="anchor" href="#features-0-1-1"></a></h3>
<ul><li>
<code>ord_plot_iris</code> for pca-ordered circular compositional barplots to pair with <code>ord_plot</code> output</li>
<li>
<code>ps_select</code> for easily selecting variables within phyloseq sample data</li>
<li>
<code>ord_plot</code> exposes scaling argument</li>
</ul></div>
</div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="0.1.0" id="microviz-010">microViz 0.1.0<a class="anchor" aria-label="anchor" href="#microviz-010"></a></h2>
<div class="section level3">
<h3 id="major-renaming-0-1-0">Major renaming<a class="anchor" aria-label="anchor" href="#major-renaming-0-1-0"></a></h3>
<ul><li>
<code>calc_dist</code> –&gt; <code>dist_calc</code>
</li>
<li>
<code>beta_disper</code> –&gt; <code>dist_bdisp</code>
</li>
<li>
<code>ordin8</code> –&gt; <code>ord_calc</code>
</li>
<li>
<code>plot_ordin8</code> –&gt; <code>ord_plot</code>
</li>
<li>
<code>model_tax_corncob</code> –&gt; <code>tax_model_corncob</code>
</li>
</ul></div>
<div class="section level3">
<h3 id="other-breaking-changes-0-1-0">Other breaking changes<a class="anchor" aria-label="anchor" href="#other-breaking-changes-0-1-0"></a></h3>
<ul><li>
<code>plot_comp_bar</code>
<ul><li>groups argument renamed to group_by for consistency with new facet_by argument</li>
<li>drop_unused_vars replaced with keep_all_vars which defaults to TRUE</li>
</ul></li>
</ul></div>
<div class="section level3">
<h3 id="features-0-1-0">Features<a class="anchor" aria-label="anchor" href="#features-0-1-0"></a></h3>
<ul><li>
<code>ps_seriate</code> for ordering phyloseq samples by similarity</li>
</ul></div>
</div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="0.0.6" id="microviz-006">microViz 0.0.6<a class="anchor" aria-label="anchor" href="#microviz-006"></a></h2>
<div class="section level3">
<h3 id="features-0-0-6">Features<a class="anchor" aria-label="anchor" href="#features-0-0-6"></a></h3>
<ul><li>
<code>ps_filter</code> allows filtering of <code>phyloseq</code> samples by values of variables in <code>sample_data</code> (wrapper around <code>dplyr</code>’s <code>filter</code> function)</li>
</ul></div>
<div class="section level3">
<h3 id="breaking-changes-0-0-6">Breaking changes<a class="anchor" aria-label="anchor" href="#breaking-changes-0-0-6"></a></h3>
<ul><li>
<code>ps_mutate</code> no longer needs <code>.across</code> argument to use <code><a href="https://dplyr.tidyverse.org/reference/across.html" class="external-link">dplyr::across()</a></code>
</li>
</ul></div>
</div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="0.0.5" id="microviz-005">microViz 0.0.5<a class="anchor" aria-label="anchor" href="#microviz-005"></a></h2>
<div class="section level3">
<h3 id="features-0-0-5">Features<a class="anchor" aria-label="anchor" href="#features-0-0-5"></a></h3>
<ul><li>
<code>ps_dedupe</code> bug fix method = “readcount” now correctly keeps all samples that “first” or “last” methods do</li>
</ul></div>
</div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="0.0.4" id="microviz-004">microViz 0.0.4<a class="anchor" aria-label="anchor" href="#microviz-004"></a></h2>
<div class="section level3">
<h3 id="features-0-0-4">Features<a class="anchor" aria-label="anchor" href="#features-0-0-4"></a></h3>
<ul><li>
<code>ps_arrange</code> allows reordering of <code>phyloseq</code> samples by values of variables in <code>sample_data</code> or <code>otu_table</code> (wrapper around <code>dplyr</code>’s <code>arrange</code> function)</li>
<li>
<code>ps_otu2samdat</code> add taxon abundance variables from <code>phyloseq</code> <code>otu_table</code> to <code>sample_data</code> for use in plotting etc</li>
</ul></div>
</div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="0.0.3" id="microviz-003">microViz 0.0.3<a class="anchor" aria-label="anchor" href="#microviz-003"></a></h2>
<div class="section level3">
<h3 id="features-0-0-3">Features<a class="anchor" aria-label="anchor" href="#features-0-0-3"></a></h3>
<ul><li>
<code>ps_mutate</code> allowing easy and piped modification of <code>phyloseq</code> <code>sample_data</code> (wrapper around <code>dplyr</code>’s <code>mutate</code> function)</li>
<li>
<code>ps_join</code> allows easy and piped addition of a dataframe of data to <code>phyloseq</code> <code>sample_data</code> (wrapper around <code>dplyr</code>’s <code>*_join</code> functions)</li>
</ul></div>
</div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="0.0.2" id="microviz-002">microViz 0.0.2<a class="anchor" aria-label="anchor" href="#microviz-002"></a></h2>
<div class="section level3">
<h3 id="breaking-changes-0-0-2">Breaking changes<a class="anchor" aria-label="anchor" href="#breaking-changes-0-0-2"></a></h3>
<ul><li>
<code>plot_ordin8</code> arguments changed to allow easier sizing and styling of all vectors and labels</li>
<li>
<code>plot_ordin8</code> default styling of taxon and constraint vectors and labels is changed: background vectors are now semi-transparent and dashed lines are not used any more by default (but can be set)</li>
</ul></div>
<div class="section level3">
<h3 id="other-0-0-2">Other<a class="anchor" aria-label="anchor" href="#other-0-0-2"></a></h3>
<ul><li>
<code>ordin8</code> and <code>plot_ordin8</code> get basic support for CCA and NMDS methods finally</li>
<li>
<code>plot_comp_bar</code> gets <code>order_samples_with_all_taxa</code> and <code>tax_transform_for_ordering</code>
</li>
<li>Documentation of manual sample ordering across <code>plot_comp_bar</code> groups added to Visualising Compositions article on website.</li>
<li>Documentation of experimental polar coordinates and PCA_angle sorting added in new article called PCA-sorted polar composition plots, on website.</li>
</ul></div>
</div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="0.0.1" id="microviz-001">microViz 0.0.1<a class="anchor" aria-label="anchor" href="#microviz-001"></a></h2>
<div class="section level3">
<h3 id="main-changes-0-0-1">Main changes<a class="anchor" aria-label="anchor" href="#main-changes-0-0-1"></a></h3>
<ul><li><p><code>phyloseq_validate</code> now fixes otu_tables stored as integers and messages user about suspicious or NA tax_table entries and this happens as part of <code>plot_comp_bar</code> and <code>plot_ordin8</code></p></li>
<li><p><code>plot_comp_bar</code> and <code>plot_ordin8</code> gain <code>taxon_renamer</code> argument to allow you to customise the taxon names on these plots</p></li>
<li><p><code>plot_comp_bar</code> can now handle missing values in the grouping variable by converting NAs to “NA”s</p></li>
<li>
<p>Some functions renamed for naming consistency:</p>
<ul><li>
<code>prepend_ranks</code> -&gt; <code>tax_prepend_ranks</code>
</li>
<li>
<code>tax_model_corncob</code> -&gt; <code>model_tax_corncob</code>
</li>
<li>
<code>corncob_models_to_var_stats</code> -&gt; <code>modelsmodels2stats_corncob</code>
</li>
<li>
<code>tax_tree_</code> <code>nodes</code>/<code>edges</code>/<code>plot</code> -&gt; <code>taxatree_</code> …</li>
</ul></li>
</ul></div>
<div class="section level3">
<h3 id="other-0-0-1">Other<a class="anchor" aria-label="anchor" href="#other-0-0-1"></a></h3>
<ul><li>Added a <code>NEWS.md</code> file to track changes to the package.</li>
</ul></div>
</div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by David Barnett.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.2.0.</p>
</div>

    </footer></div>



  <script data-goatcounter="https://microviz.goatcounter.com/count" async src="//gc.zgo.at/count.js"></script></body></html>

