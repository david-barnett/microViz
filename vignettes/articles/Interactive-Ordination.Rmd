---
title: "Interactive Ordination Plot"
---

```{r, include = FALSE}
knitr::opts_chunk$set(
  collapse = TRUE,
  comment = "#>"
)
```

This article shows you how to quickly get started with interactive exploration of your data/ ordination plot.

```{r setup}
library(phyloseq)
library(microViz)
```

Get example data and clean up the taxa just a little.

```{r get data}
data("enterotype", package = "phyloseq")
taxa_names(enterotype)[1] <- "Unclassified" # replace strange "-1" name
ps <- tax_fix(enterotype) # remove NA taxa and similar
```

Create simple Bray-Curtis PCoA to explore interactively.

```{r create ordination}
ord1 <- ps %>%
  tax_transform("identity", rank = "Genus") %>% 
  dist_calc("bray") %>% # bray curtis
  ord_calc() # automagically picks PCoA
```

Start interactive Shiny App: this will open a page in your default web browser.

``` {.r}
ord_explore(data = ord1, auto_caption = NA)
```

![Note: GIF is sped up x2: redrawing plots is not instantaneous, but pretty quick unless your dataset has many 1000s of samples](images/20210329_ord_explore_dev_x2.gif)

# Session info

```{r}
devtools::session_info()
```
